---
layout: post
title: "Automatic variations"
categories: software
---

<div>
<form action="http://variatio.nunotrocado.com" method="get">
  <label for="input">Input phrase:</label>
  <input type="text" name="input" id="input" required size="60"
	 pattern="^(([cdefgabr]{1})(ss|s\+|s|\+|-|b|b-|bb)?('+|,+)?(\d*\.?\d*)?(\s|$)){1,13}$">

  <label for="complexity">Complexity:</label>
  <div class="button-box">
    <select name="complexity" id="complexity">
      <option value="2">Simple</option>
      <option value="3">Medium</option>
      <option value="4">Bring 'em on</option>
      <option value="5">Nightmare</option>
    </select>
    <input type="submit" value="Submit">
  </div>
</form>
</div>

<div id="outline-container-org1435b1c" class="outline-2">
<h2 id="org1435b1c">Generate a pdf with melodic variations on a theme</h2>
<div class="outline-text-2" id="text-org1435b1c">
<p>
Enter a short musical phrase in the input box above, choose the complexity level, push the button and wait (it might take a few seconds). You'll get an automatically generated pdf with a bunch of melodic variations on the original phrase. This can be useful to discover new ideas for composing and improvising, to overcome the blank page syndrome, to practice reading, etc.
</p>

<p>
To input the theme, use the following syntax:
</p>
<ul class="org-ul">
<li>Notes are separated by spaces.</li>
<li>Each note starts with a pitch letter (<code>a</code>-<code>g</code>), or <code>r</code> for a rest.</li>
<li>Add <code>s</code> for sharp, <code>b</code> for flat (eg, <code>cs</code> is C-sharp, <code>bb</code> is B-flat).</li>
<li>Add one or more quotes (') to indicate octaves above middle C, commas (,) indicate octaves below middle C. For example: <code>c'</code> is the C above middle C (C5, as it is also usually called); <code>ab,,</code> is the A-flat two octaves below middle C (A3).</li>
<li>Add the rhythmic value in number of beats. Examples: <code>c1</code> is a quarter-note C; <code>d.5</code> is an eighth-note D (.5=half a beat); <code>e1.75</code> is a double-dotted quarter-note E, or a quarter-note tied to a dotted eight-note&#x2026; (the exact notation is set by the computer); <code>fs4</code> is a whole-note F-sharp.</li>
<li>One more thing about octaves: all the octaves are relative to the first note. If you type <code>g,,1 a1 b1 c,1</code>, the first three notes are two octaves below middle-C, and the last one one octave below (G3 A3 B3 C4).</li>
<li>One more thing about rhythms: If you don't indicate a rhythmic value, the preceding one is assumed. So you could write the last example like this: <code>g,,1 a b c'</code>.</li>
</ul>

<p>
Some more examples of valid phrases:
</p>
<ul class="org-ul">
<li><code>f1 r.5 f'1 d'.5 e'1</code> (Moose The Mooche)</li>
<li><code>r.5 g g g eb2 r.5 f f f d2</code> (Beethoven's fifth)</li>
<li><code>d2 a f d cs d1 e f2.5 g.5 f e d1</code> (Bach's Art of the Fugue)</li>
<li><code>cs'.5 e gs b as1.5 gs.5 fs ds b,1</code> (Coltrane's solo on Giant Steps)</li>
<li><code>d.5 e f g e1 c.5 d1.5</code> (The Lick)</li>
</ul>
</div>
</div>

<div id="outline-container-org6bf895a" class="outline-2">
<h2 id="org6bf895a">Limitations (for now&#x2026;)</h2>
<div class="outline-text-2" id="text-org6bf895a">
<ul class="org-ul">
<li>Everything is in 4/4.</li>
<li>No tuplets.</li>
<li>Everything is in treble clef.</li>
<li>No key signatures.</li>
<li>The spelling of pitches and the notation of rhythms are not very rigorous&#x2026; These are not trivial problems, and I've put significant work on the respective algorithms, but there's definitively room for improvement.</li>
<li>Maximum 13 notes in the input phrase.</li>
</ul>
</div>
</div>

<div id="outline-container-org2f44059" class="outline-2">
<h2 id="org2f44059">Coming up&#x2026;</h2>
<div class="outline-text-2" id="text-org2f44059">
<p>
After dealing with all above: more algorithms, fine-tuning parameters, midi file download.
</p>
</div>
</div>

<div id="outline-container-org14fbd15" class="outline-2">
<h2 id="org14fbd15">Bugs, suggestions</h2>
<div class="outline-text-2" id="text-org14fbd15">
<p>
Contact me or head to the <a href="https://github.com/ntrocado/variatio/issues">issue tracker</a>. Also, I'd love to know how you use this and whether it finds a place in your next <i>magnus opus</i>.
</p>
</div>
</div>
